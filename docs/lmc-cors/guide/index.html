<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-lmc-cors/guide">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Guide | LM-Commons</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lm-commons.github.io//docs/lmc-cors/guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Guide | LM-Commons"><meta data-rh="true" name="description" content="Event registration"><meta data-rh="true" property="og:description" content="Event registration"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lm-commons.github.io//docs/lmc-cors/guide"><link data-rh="true" rel="alternate" href="https://lm-commons.github.io//docs/lmc-cors/guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://lm-commons.github.io//docs/lmc-cors/guide" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="LM-Commons RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="LM-Commons Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e0d55a48.css">
<link rel="preload" href="/assets/js/runtime~main.fe183453.js" as="script">
<link rel="preload" href="/assets/js/main.2bde2a04.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/LMC-logo.png" alt="LM-Commons Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/LMC-logo.png" alt="LM-Commons Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">LM-Commons</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LM-Commons" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/lmcuser">LmcUser</a><button aria-label="Toggle the collapsible sidebar category &#x27;LmcUser&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/lmcrbacmvc">LmcRbacMvc</a><button aria-label="Toggle the collapsible sidebar category &#x27;LmcRbacMvc&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/lmcrbac">LmcRbac</a><button aria-label="Toggle the collapsible sidebar category &#x27;LmcRbac&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/lmccors">LmcCors</a><button aria-label="Toggle the collapsible sidebar category &#x27;LmcCors&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lmc-cors/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lmc-cors/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/lmc-cors/guide">Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/lmcadmin">LmcAdmin</a><button aria-label="Toggle the collapsible sidebar category &#x27;LmcAdmin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/lmccors"><span itemprop="name">LmcCors</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Guide</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Guide</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="event-registration">Event registration<a class="hash-link" href="#event-registration" title="Direct link to heading">​</a></h2><p>LmcCors registers the <code>LmcCors\Mvc\CorsRequestListener</code> with the <code>MvcEvent::EVENT_ROUTE</code> event, with a priority
of -1. This means that this listener is executed AFTER the route has been matched.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-module">Configuring the module<a class="hash-link" href="#configuring-the-module" title="Direct link to heading">​</a></h2><p>As by default, all the various options are set globally for all routes:</p><ul><li><code>allowed_origins</code>: (array) List of allowed origins. To allow any origin, you can use the wildcard (<code>*</code>) character. If
multiple origins are specified, LmcCors will automatically check the <code>&quot;Origin&quot;</code> header&#x27;s value, and only return the
allowed domain (if any) in the <code>&quot;Allow-Access-Control-Origin&quot;</code> response header. To allow any sub-domain, you can prefix
the domain with the wildcard character (i.e. <code>*.example.com</code>). Please note that you don&#x27;t need to
add your host URI (so if your website is hosted as &quot;example.com&quot;, &quot;example.com&quot; is automatically allowed.</li><li><code>allowed_methods</code>: (array) List of allowed HTTP methods. Those methods will be returned for the preflight request to
indicate which methods are allowed to the user agent. You can even specify custom HTTP verbs.</li><li><code>allowed_headers</code>: (array) List of allowed headers that will be returned for the preflight request. This indicates
to the user agent which headers are permitted to be sent when doing the actual request.</li><li><code>max_age</code>: (int) Maximum age (seconds) the preflight request should be cached by the user agent. This prevents the
user agent from sending a preflight request for each request.</li><li><code>exposed_headers</code>: (array) List of response headers that are allowed to be read in the user agent. Please note that
some browsers do not implement this feature correctly.</li><li><code>allowed_credentials</code>: (boolean) If true, it allows the browser to send cookies along with the request.</li></ul><p>If you want to configure specific routes, you can add <code>ZfrCors\Options\CorsOptions::ROUTE_PARAM</code> to your route configuration:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;lmc_cors&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;allowed_origins&#x27; =&gt; [&#x27;*&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;allowed_methods&#x27; =&gt; [&#x27;GET&#x27;, &#x27;POST&#x27;, &#x27;DELETE&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;router&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;routes&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;readOnlyRoute&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;type&#x27; =&gt; &#x27;literal&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;options&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;route&#x27; =&gt; &#x27;/foo/bar&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;defaults&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // This will replace allowed_methods configuration to only allow GET requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // and only allow a specific origin instead of the wildcard origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        LmcCors\Options\CorsOptions::ROUTE_PARAM =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &#x27;allowed_origins&#x27; =&gt; [&#x27;http://example.org&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &#x27;allowed_methods&#x27; =&gt; [&#x27;GET&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;someAjaxCalls&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;type&#x27; =&gt; &#x27;literal&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;options&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;route&#x27; =&gt; &#x27;/ajax&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;defaults&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        // This overrides the wildcard origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        LmcCors\Options\CorsOptions::ROUTE_PARAM =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &#x27;allowed_origins&#x27; =&gt; [&#x27;http://example.org&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;may_terminate&#x27; =&gt; false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &#x27;child_routes&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &#x27;blog&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &#x27;type&#x27; =&gt; &#x27;literal&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &#x27;options&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &#x27;route&#x27; =&gt; &#x27;/blogpost&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &#x27;defaults&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                // This would only allow `http://example.org` to GET this route</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                \LmcCors\Options\CorsOptions::ROUTE_PARAM =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &#x27;allowed_methods&#x27; =&gt; [&#x27;GET&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &#x27;may_terminate&#x27; =&gt; true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &#x27;child_routes&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &#x27;delete&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                &#x27;type&#x27; =&gt; &#x27;segment&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                &#x27;options&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &#x27;route&#x27; =&gt; &#x27;:id&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    // This would only allow origin `http://example.org` to apply DELETE on this route</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &#x27;defaults&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        \LmcCors\Options\CorsOptions::ROUTE_PARAM =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            &#x27;allowed_methods&#x27; =&gt; [&#x27;DELETE&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="preflight-request">Preflight request<a class="hash-link" href="#preflight-request" title="Direct link to heading">​</a></h2><p>If LmcCors detects a preflight CORS request, a new HTTP response will be created, and LmcCors will send the appropriate
headers according to your configuration. The response will always be sent with a 200 status code (OK).</p><p>Please note that this will also prevent further MVC steps from being executed, since all subsequent MVC steps are
skipped till <code>Laminas\Mvc\MvcEvent::EVENT_FINISH</code>, which is responsible for actually sending the response.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="actual-request">Actual request<a class="hash-link" href="#actual-request" title="Direct link to heading">​</a></h2><p>When an actual request is made, LmcCors first checks it the origin is allowed. If it is not, then a new response with
a 403 status code (Forbidden) is created and sent.</p><p>Please note that this will also prevent further MVC steps from being executed, since all subsequent MVC steps are
skipped till <code>Laminas\Mvc\MvcEvent::EVENT_FINISH</code>, which is responsible for actually sending the response.</p><p>If the origin is allowed, LmcCors will just add the appropriate headers to the request produced by <code>Laminas\Mvc</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="security-concerns">Security concerns<a class="hash-link" href="#security-concerns" title="Direct link to heading">​</a></h2><p>Don&#x27;t use this module to secure your application! You must use a proper authorization module, like
<a href="https://github.com/bjyoungblood/BjyAuthorize" target="_blank" rel="noopener noreferrer">BjyAuthorize</a>, <a href="https://github.com/LM-Commons/LmcRbacMvc" target="_blank" rel="noopener noreferrer">LmcRbacMvc</a> or
<a href="https://github.com/spiffyjr/spiffy-authorize" target="_blank" rel="noopener noreferrer">SpiffyAuthorize</a>.</p><p>LmcCors only allows to accept or refuse a cross-origin request.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-schemes">Custom schemes<a class="hash-link" href="#custom-schemes" title="Direct link to heading">​</a></h2><p>Internally, LmcCors uses <code>Laminas\Uri\UriFactory</code> class. If you are using custom schemes (for instance if you are
testing your API with some Google Chrome extensions), you need to add support for those schemes by adding them to
the <code>UriFactory</code> config (please <a href="https://docs.laminas.dev/laminas-uri/usage/#creating-a-new-custom-class-uri" target="_blank" rel="noopener noreferrer">refer to the doc</a>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">​</a></h2><p>To register the <code>chrome-extension</code> custom scheme in your API, simply add:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">use Laminas\Uri\UriFactory;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UriFactory::registerScheme(&#x27;chrome-extension&#x27;, &#x27;Laminas\Uri\Uri&#x27;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>to the <code>onBootstrap()</code> method in <code>module/Application/Module.php</code>.</p><p>Registering the <code>chrome-extension</code> custom scheme like this allows you to use Google Chrome extensions for testing your API.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/lmc-cors/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/lmcadmin"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">LmcAdmin</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#event-registration" class="table-of-contents__link toc-highlight">Event registration</a></li><li><a href="#configuring-the-module" class="table-of-contents__link toc-highlight">Configuring the module</a></li><li><a href="#preflight-request" class="table-of-contents__link toc-highlight">Preflight request</a></li><li><a href="#actual-request" class="table-of-contents__link toc-highlight">Actual request</a></li><li><a href="#security-concerns" class="table-of-contents__link toc-highlight">Security concerns</a></li><li><a href="#custom-schemes" class="table-of-contents__link toc-highlight">Custom schemes</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Packages</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/lmc-user/introduction">LmcUser</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lmc-rbac-mvc/introduction">LmcRbacMvc</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lmc-rbac/introduction">LmcRbac</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lmc-cors/introduction">LmcCors</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lmc-admin/introduction">LmcAdmin</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitter.im/LM-Commons/community" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/LM-Commons" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 The LM-Commons Organization.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fe183453.js"></script>
<script src="/assets/js/main.2bde2a04.js"></script>
</body>
</html>